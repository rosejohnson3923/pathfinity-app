/* BentoExperienceCard.module.css */
/* Experience container bento grid styles - Enhanced Version */

/* Import design tokens */
@import '../../design-system/tokens/colors.css';
@import '../../design-system/tokens/spacing.css';
@import '../../design-system/tokens/layout.css';
@import '../../design-system/tokens/typography.css';
@import '../../design-system/tokens/effects.css';
@import '../../design-system/tokens/borders.css';
@import '../../design-system/tokens/shadows.css';

.bentoContainer {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: auto auto auto;
  gap: var(--space-5);
  padding: var(--space-6);
  width: 100%;
  height: auto;
  min-height: 600px;
  box-sizing: border-box;
  position: relative;
  background: linear-gradient(135deg, 
    #667eea 0%, 
    #764ba2 25%, 
    #f093fb 50%, 
    #ffc3a0 75%, 
    #ffafbd 100%);
  border-radius: var(--radius-2xl);
  box-shadow: 
    0 30px 60px rgba(102, 126, 234, 0.2),
    0 15px 30px rgba(118, 75, 162, 0.15),
    inset 0 2px 10px rgba(255, 255, 255, 0.3);
  overflow: visible;
}

.bentoContainer::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 255, 255, 0.2) 0%,
    transparent 50%
  );
  animation: floatGradient 20s ease-in-out infinite;
}

@keyframes floatGradient {
  0%, 100% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(180deg) scale(1.2); }
}

/* Enhanced Engagement Animations for BentoExperienceCardV2 */
@keyframes glowPulse {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(99,102,241,0.5), inset 0 0 20px rgba(99,102,241,0.1); 
  }
  50% { 
    box-shadow: 0 0 40px rgba(99,102,241,0.8), 0 0 60px rgba(168,85,247,0.4), inset 0 0 30px rgba(168,85,247,0.2); 
  }
}

@keyframes floatSmooth {
  0%, 100% { transform: translateY(0) rotate(-2deg); }
  50% { transform: translateY(-10px) rotate(2deg); }
}

@keyframes slidePattern {
  0% { transform: translateX(0); }
  100% { transform: translateX(100%); }
}

@keyframes rippleEffect {
  0% { 
    transform: scale(0); 
    opacity: 1; 
  }
  100% { 
    transform: scale(4); 
    opacity: 0; 
  }
}

@keyframes fadeInUp {
  from { 
    opacity: 0; 
    transform: translateY(30px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

/* Special grid for layouts with progress header */
.bentoContainer:has(.progressTile:first-child) {
  grid-template-rows: auto minmax(140px, 1fr) minmax(140px, 1fr);
}

/* Grade-specific configurations */
.bentoContainer.grade-elementary {
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, minmax(160px, 1fr));
  gap: var(--space-5);
  padding: var(--space-6);
}

.bentoContainer.grade-middle {
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(3, minmax(140px, 1fr));
  gap: var(--space-4);
  padding: var(--space-5);
}

.bentoContainer.grade-high {
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(4, minmax(120px, 1fr));
  gap: var(--space-3);
  padding: var(--space-4);
}

/* Progress Header Styles */
.progressHeader {
  grid-column: span 4;
  margin-bottom: var(--space-5);
  padding: var(--space-5) var(--space-6);
  background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.95) 100%);
  border-radius: var(--radius-2xl);
  border: 2px solid transparent;
  background-clip: padding-box;
  box-shadow: 
    0 4px 20px rgba(20, 184, 166, 0.15),
    0 2px 8px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.progressHeader::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #14b8a6 0%, #0891b2 50%, #06b6d4 100%);
  animation: shimmer 2s ease-in-out infinite;
}

.progressInfo {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.experienceTitle {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  margin: 0;
  flex: 1;
}

.progressBar {
  flex: 2;
  height: 12px;
  background: linear-gradient(135deg, #e5e7eb 0%, #f3f4f6 100%);
  border-radius: var(--radius-full);
  overflow: hidden;
  position: relative;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
}

.progressFill {
  height: 100%;
  background: linear-gradient(90deg, #14b8a6 0%, #0891b2 50%, #06b6d4 100%);
  border-radius: var(--radius-full);
  transition: width var(--duration-slow) var(--ease-in-out);
  position: relative;
  box-shadow: 0 2px 8px rgba(20, 184, 166, 0.4);
}

.progressFill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.3) 50%, 
    transparent 100%);
  animation: progressShine 2s ease-in-out infinite;
}

.progressLabel {
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  color: var(--teal-500);
  min-width: 45px;
  text-align: right;
}

.achievements {
  display: flex;
  gap: var(--space-2);
  margin-left: var(--space-4);
}

.achievementBadge {
  font-size: var(--text-2xl);
  animation: bounceIn var(--duration-slow) var(--ease-bounce);
}

/* Dark theme progress header */
.darkTheme .progressHeader {
  background: linear-gradient(135deg, rgba(20, 184, 166, 0.15) 0%, rgba(8, 145, 178, 0.1) 100%);
  border-color: rgba(20, 184, 166, 0.3);
}

.darkTheme .progressBar {
  background: rgba(20, 184, 166, 0.2);
}

/* Companion Styles */
.companionSection {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin: var(--space-4) 0;
}

.companionAvatar {
  width: 80px;
  height: 80px;
  border-radius: var(--radius-full);
  object-fit: cover;
  animation: floatAnimation 3s ease-in-out infinite;
}

.companionSmall {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-full);
  object-fit: cover;
}

.companionLarge {
  width: 120px;
  height: 120px;
  border-radius: var(--radius-full);
  object-fit: cover;
  animation: celebrateAnimation 1s ease-in-out;
}

.companionInfo {
  flex: 1;
}

.companionInfo h3 {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--space-2) 0;
}

.companionMessage {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: 1.5;
}

.companionInFeedback {
  width: 60px;
  height: 60px;
  border-radius: var(--radius-full);
  margin-bottom: var(--space-3);
}

.companionHelperTile {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  background: linear-gradient(135deg, rgba(147, 51, 234, 0.1) 0%, rgba(79, 70, 229, 0.05) 100%);
}

.hintButton {
  background: var(--purple-500);
  color: white;
  border: none;
  border-radius: var(--radius-lg);
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-sm);
  cursor: pointer;
  transition: var(--transition-all);
}

.hintButton:hover {
  background: var(--purple-600);
  transform: scale(1.05);
}

.hintBubble {
  position: absolute;
  bottom: calc(100% + var(--space-2));
  left: 50%;
  transform: translateX(-50%);
  background: var(--color-bg-elevated);
  border: 2px solid var(--purple-500);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  font-size: var(--text-sm);
  max-width: 250px;
  box-shadow: var(--shadow-lg);
  z-index: 10;
}

.hintBubble::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 8px solid transparent;
  border-top-color: var(--purple-500);
}

/* Companion celebration styles */
.companionCelebrationTile {
  display: flex;
  align-items: center;
  gap: var(--space-5);
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
}

.celebrationBubble {
  flex: 1;
  background: white;
  border-radius: var(--radius-xl);
  padding: var(--space-4);
  position: relative;
  box-shadow: var(--shadow-md);
}

.celebrationBubble h3 {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  margin: 0 0 var(--space-2) 0;
}

.celebrationBubble p {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

/* Animations for companions */
@keyframes floatAnimation {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes celebrateAnimation {
  0% { transform: scale(0.8) rotate(-5deg); }
  50% { transform: scale(1.1) rotate(5deg); }
  100% { transform: scale(1) rotate(0); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes progressShine {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(100%); }
  100% { transform: translateX(100%); }
}

@keyframes correctPulse {
  0% { transform: scale(1); }
  25% { transform: scale(1.05); }
  50% { transform: scale(1); }
  75% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

@keyframes bounceIn {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); opacity: 1; }
}

/* Scenario Styles */
.scenarioTile {
  background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 2px solid transparent;
  background-clip: padding-box;
  box-shadow: 
    0 10px 30px rgba(59, 130, 246, 0.1),
    0 4px 12px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.scenarioTile::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #ec4899 100%);
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: -1;
}

.scenarioTile:hover::before {
  opacity: 0.3;
}

.scenarioTile:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 
    0 20px 40px rgba(59, 130, 246, 0.2),
    0 8px 16px rgba(0, 0, 0, 0.08);
}

.scenarioHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
}

.careerBadge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  background: var(--blue-500);
  color: white;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
}

.scenarioContent {
  flex: 1;
}

.scenarioDescription {
  font-size: var(--text-lg);
  color: var(--color-text-primary);
  margin-bottom: var(--space-3);
  line-height: 1.6;
}

.scenarioVisual {
  font-size: var(--text-3xl);
  text-align: center;
  margin: var(--space-4) 0;
  padding: var(--space-4);
  background: rgba(255, 255, 255, 0.5);
  border-radius: var(--radius-lg);
}

.careerContext {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  font-style: italic;
}

/* Option Tiles - Enhanced with playful interactions */
.optionTile {
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  display: flex;
  align-items: center;
  gap: var(--space-3);
  background: linear-gradient(145deg, 
    #ffffff 0%, 
    #f8fafc 50%, 
    #f1f5f9 100%);
  border: 3px solid transparent;
  border-image: linear-gradient(145deg, #e2e8f0, #cbd5e1) 1;
  border-radius: 24px;
  padding: var(--space-4);
  position: relative;
  overflow: hidden;
  box-shadow: 
    0 8px 16px rgba(0, 0, 0, 0.06),
    0 4px 8px rgba(0, 0, 0, 0.03),
    inset 0 1px 2px rgba(255, 255, 255, 0.9);
  transform-style: preserve-3d;
}

.optionTile::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, 
    rgba(59, 130, 246, 0.3) 0%, 
    transparent 70%);
  transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform: translate(-50%, -50%);
  border-radius: 50%;
}

.optionTile::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(59, 130, 246, 0.2) 25%,
    rgba(147, 51, 234, 0.2) 50%,
    rgba(236, 72, 153, 0.2) 75%,
    transparent 100%);
  transition: left 0.8s ease;
}

.optionTile:hover:not(.selected):not(.correct):not(.incorrect) {
  background: linear-gradient(145deg, 
    #f0f9ff 0%, 
    #e0f2fe 50%, 
    #bae6fd 100%);
  transform: translateY(-6px) scale(1.05) rotateZ(1deg);
  border-image: linear-gradient(145deg, #3b82f6, #8b5cf6) 1;
  box-shadow: 
    0 20px 40px rgba(59, 130, 246, 0.2),
    0 10px 20px rgba(147, 51, 234, 0.1),
    inset 0 2px 4px rgba(255, 255, 255, 1);
}

.optionTile:hover::before {
  width: 300%;
  height: 300%;
  opacity: 0.5;
}

.optionTile:hover::after {
  left: 100%;
}

.optionTile.selected {
  background: linear-gradient(145deg, 
    rgba(251, 191, 36, 0.3) 0%, 
    rgba(245, 158, 11, 0.2) 50%,
    rgba(251, 146, 60, 0.15) 100%);
  border-image: linear-gradient(145deg, #f59e0b, #fb923c) 1;
  box-shadow: 
    0 12px 24px rgba(245, 158, 11, 0.2),
    inset 0 2px 4px rgba(255, 255, 255, 0.9);
  animation: selectedPulse 1s ease-in-out infinite;
}

@keyframes selectedPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

.optionTile.correct {
  background: linear-gradient(145deg, 
    rgba(34, 197, 94, 0.3) 0%, 
    rgba(16, 185, 129, 0.25) 50%,
    rgba(52, 211, 153, 0.2) 100%);
  border-image: linear-gradient(145deg, #10b981, #34d399) 1;
  box-shadow: 
    0 15px 30px rgba(16, 185, 129, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.9);
  animation: correctBounce 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes correctBounce {
  0% { transform: scale(1) rotate(0deg); }
  25% { transform: scale(1.1) rotate(-2deg); }
  50% { transform: scale(1.15) rotate(2deg); }
  75% { transform: scale(1.05) rotate(-1deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.optionTile.incorrect {
  background: linear-gradient(145deg, 
    rgba(239, 68, 68, 0.3) 0%, 
    rgba(220, 38, 38, 0.25) 50%,
    rgba(248, 113, 113, 0.2) 100%);
  border-image: linear-gradient(145deg, #ef4444, #f87171) 1;
  box-shadow: 
    0 10px 20px rgba(239, 68, 68, 0.2),
    inset 0 2px 4px rgba(255, 255, 255, 0.9);
  animation: incorrectWiggle 0.6s ease;
}

@keyframes incorrectWiggle {
  0%, 100% { transform: translateX(0) rotate(0deg); }
  10% { transform: translateX(-8px) rotate(-2deg); }
  20% { transform: translateX(8px) rotate(2deg); }
  30% { transform: translateX(-8px) rotate(-2deg); }
  40% { transform: translateX(8px) rotate(2deg); }
  50% { transform: translateX(-4px) rotate(-1deg); }
  60% { transform: translateX(4px) rotate(1deg); }
  70% { transform: translateX(-2px) rotate(0deg); }
  80% { transform: translateX(2px) rotate(0deg); }
}

.optionLabel {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: var(--blue-500);
  color: white;
  border-radius: var(--radius-full);
  font-weight: var(--font-bold);
  font-size: var(--text-lg);
}

.optionText {
  flex: 1;
  font-size: var(--text-base);
  color: var(--color-text-primary);
}

/* Feedback Modal - Ultra Enhanced with magical effects */
.feedbackModal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(ellipse at center, 
    rgba(168, 85, 247, 0.3) 0%, 
    rgba(59, 130, 246, 0.2) 25%,
    rgba(236, 72, 153, 0.15) 50%,
    rgba(0, 0, 0, 0.7) 100%);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: modalFadeIn 0.4s ease;
}

@keyframes modalFadeIn {
  from { 
    opacity: 0;
    backdrop-filter: blur(0px);
  }
  to { 
    opacity: 1;
    backdrop-filter: blur(12px);
  }
}

.feedbackContent {
  background: linear-gradient(145deg, 
    rgba(255, 255, 255, 0.98) 0%, 
    rgba(249, 250, 251, 0.95) 50%,
    rgba(243, 244, 246, 0.92) 100%);
  border-radius: 36px;
  padding: var(--space-8);
  max-width: 500px;
  width: 90%;
  text-align: center;
  box-shadow: 
    0 40px 80px rgba(0, 0, 0, 0.2),
    0 20px 40px rgba(0, 0, 0, 0.15),
    0 10px 20px rgba(0, 0, 0, 0.1),
    inset 0 3px 6px rgba(255, 255, 255, 0.95);
  animation: modalSlideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  position: relative;
  overflow: hidden;
  transform-style: preserve-3d;
  border: 4px solid transparent;
  background-clip: padding-box;
}

@keyframes modalSlideUp {
  from { 
    transform: translateY(100px) scale(0.9) rotateX(20deg);
    opacity: 0;
  }
  to { 
    transform: translateY(0) scale(1) rotateX(0);
    opacity: 1;
  }
}

.feedbackContent::before {
  content: '';
  position: absolute;
  top: -100%;
  left: -100%;
  width: 300%;
  height: 300%;
  background: conic-gradient(
    from 0deg at 50% 50%,
    rgba(168, 85, 247, 0.2) 0deg,
    rgba(236, 72, 153, 0.2) 90deg,
    rgba(251, 146, 60, 0.2) 180deg,
    rgba(34, 197, 94, 0.2) 270deg,
    rgba(168, 85, 247, 0.2) 360deg
  );
  animation: magicRotate 15s linear infinite;
}

@keyframes magicRotate {
  from { transform: rotate(0deg) scale(1); }
  to { transform: rotate(360deg) scale(1.2); }
}

.feedbackContent::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, 
    #a855f7 0%, 
    #ec4899 25%, 
    #f97316 50%, 
    #22c55e 75%, 
    #3b82f6 100%);
  border-radius: inherit;
  z-index: -1;
  opacity: 0;
  animation: borderGlow 2s ease-in-out infinite;
}

@keyframes borderGlow {
  0%, 100% { opacity: 0; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.02); }
}

.feedbackContent.correct {
  border-image: linear-gradient(145deg, #10b981, #34d399, #6ee7b7) 1;
  animation: correctCelebration 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes correctCelebration {
  0% { transform: scale(0.8) rotate(-5deg); }
  25% { transform: scale(1.1) rotate(3deg); }
  50% { transform: scale(1.05) rotate(-2deg); }
  75% { transform: scale(1.02) rotate(1deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.feedbackContent.correct::after {
  background: linear-gradient(45deg, 
    #10b981 0%, 
    #34d399 50%, 
    #6ee7b7 100%);
  animation: correctGlow 1.5s ease-in-out infinite;
}

@keyframes correctGlow {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.9; }
}

.feedbackContent.incorrect {
  border-image: linear-gradient(145deg, #f59e0b, #fbbf24, #fcd34d) 1;
  animation: incorrectBounce 0.6s ease;
}

@keyframes incorrectBounce {
  0%, 100% { transform: translateY(0); }
  25% { transform: translateY(-10px); }
  50% { transform: translateY(0); }
  75% { transform: translateY(-5px); }
}

.feedbackContent.incorrect::after {
  background: linear-gradient(45deg, 
    #f59e0b 0%, 
    #fbbf24 50%, 
    #fcd34d 100%);
  animation: hintGlow 2s ease-in-out infinite;
}

@keyframes hintGlow {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 0.6; }
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.outcome {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  margin: var(--space-3) 0;
}

.learningPoint {
  font-size: var(--text-lg);
  color: var(--color-text-primary);
  font-weight: var(--font-semibold);
  margin: var(--space-3) 0;
}

.xpMessage {
  display: inline-block;
  background: linear-gradient(135deg, var(--purple-500), var(--indigo-500));
  color: white;
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  font-weight: var(--font-bold);
  margin-top: var(--space-3);
  animation: bounceIn 0.5s ease;
}

/* Progress Summary */
.progressSummaryTile {
  text-align: center;
}

.progressVisual {
  display: flex;
  justify-content: center;
  gap: var(--space-3);
  margin-top: var(--space-4);
}

.challengeDot {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: var(--radius-full);
  background: var(--gray-200);
  color: var(--gray-600);
  font-weight: var(--font-semibold);
  transition: all 0.3s ease;
}

.challengeDot.complete {
  background: var(--green-500);
  color: white;
}

/* Preview Tile */
.previewTile {
  text-align: center;
}

.scenarioCount {
  display: flex;
  justify-content: center;
  gap: var(--space-2);
  margin-top: var(--space-3);
}

.scenarioDot {
  color: var(--blue-500);
  font-size: var(--text-lg);
}

/* Animation Classes */
.animateSlideInFromTop {
  animation: slideInFromTop 0.6s ease-out;
}

.animateSlideInFromLeft {
  animation: slideInFromLeft 0.8s ease-out;
}

.animateSlideInFromRight {
  animation: slideInFromRight 0.8s ease-out 0.2s backwards;
}

.animateSlideInFromBottom {
  animation: slideInFromBottom 1s ease-out 0.4s backwards;
}

.animatePulse {
  animation: pulse 2s ease-in-out infinite;
}

.welcomeHeader {
  position: relative;
  overflow: hidden;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideInFromTop {
  0% { 
    opacity: 0;
    transform: translateY(-20px);
  }
  100% { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInFromLeft {
  0% { 
    opacity: 0;
    transform: translateX(-20px);
  }
  100% { 
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInFromRight {
  0% { 
    opacity: 0;
    transform: translateX(20px);
  }
  100% { 
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInFromBottom {
  0% { 
    opacity: 0;
    transform: translateY(20px);
  }
  100% { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes correctPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* Base tile styles - Enhanced with playful animations */
.bentoTile {
  background: linear-gradient(145deg, 
    rgba(255, 255, 255, 0.95) 0%, 
    rgba(249, 250, 251, 0.9) 50%,
    rgba(243, 244, 246, 0.85) 100%);
  border-radius: 28px;
  padding: var(--space-6);
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.1),
    0 10px 20px rgba(0, 0, 0, 0.06),
    0 4px 8px rgba(0, 0, 0, 0.04),
    inset 0 2px 4px rgba(255, 255, 255, 0.95);
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  overflow: visible;
  position: relative;
  display: flex;
  flex-direction: column;
  border: 3px solid transparent;
  background-clip: padding-box;
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  animation: tileEntry 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  animation-delay: calc(var(--tile-index, 0) * 0.05s);
}

@keyframes tileEntry {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.95) rotateX(10deg);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1) rotateX(0);
  }
}

.bentoTile::before {
  content: '';
  position: absolute;
  top: -100%;
  left: -100%;
  right: -100%;
  bottom: -100%;
  background: conic-gradient(
    from 0deg at 50% 50%,
    rgba(168, 85, 247, 0.15) 0deg,
    rgba(236, 72, 153, 0.15) 60deg,
    rgba(251, 146, 60, 0.15) 120deg,
    rgba(34, 197, 94, 0.15) 180deg,
    rgba(59, 130, 246, 0.15) 240deg,
    rgba(147, 51, 234, 0.15) 300deg,
    rgba(168, 85, 247, 0.15) 360deg
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  border-radius: inherit;
  animation: rainbowRotate 20s linear infinite;
}

@keyframes rainbowRotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.bentoTile::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.8) 50%, 
    transparent 100%);
  animation: shimmerLine 3s ease-in-out infinite;
}

@keyframes shimmerLine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.bentoTile:hover {
  transform: translateY(-8px) scale(1.03) rotateZ(0.5deg);
  box-shadow: 
    0 30px 60px rgba(0, 0, 0, 0.15),
    0 15px 30px rgba(0, 0, 0, 0.08),
    0 5px 15px rgba(0, 0, 0, 0.04),
    inset 0 3px 6px rgba(255, 255, 255, 1);
  border-color: rgba(168, 85, 247, 0.3);
}

.bentoTile:hover::before {
  opacity: 0.8;
}

/* Tile sizes */
.smallTile {
  grid-column: span 1;
  grid-row: span 1;
}

.mediumTile {
  grid-column: span 2;
  grid-row: span 1;
}

.largeTile {
  grid-column: span 2;
  grid-row: span 2;
}

.wideTile {
  grid-column: span 4;
  grid-row: span 1;
}

/* Specific tile layouts */
.progressTile {
  grid-column: span 4;
  grid-row: span 1;
  display: flex;
  align-items: center;
  min-height: 60px;
  max-height: 80px;
  height: auto;
  padding: var(--space-3) var(--space-4);
}

.companionTile {
  grid-column: span 2;
  grid-row: span 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.welcomeTile {
  grid-column: span 2;
  grid-row: span 2;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.skillUseTile {
  grid-column: span 2;
  grid-row: span 1;
}

.previewTile {
  grid-column: span 1;
  grid-row: span 1;
}

.actionTile {
  grid-column: span 1;
  grid-row: span 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.scenarioMainTile {
  grid-column: span 2;
  grid-row: span 2;
}

.interactiveTile {
  grid-column: span 2;
  grid-row: span 2;
}

.tallTile {
  grid-column: span 1;
  grid-row: span 2;
}

.heroTile {
  grid-column: span 3;
  grid-row: auto;
  height: auto;
  animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  position: relative;
  overflow: hidden;
}

/* Enhanced Companion Welcome Tile */
.companionWelcomeTile {
  animation: glowPulse 3s ease-in-out infinite;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.companionWelcomeTile:hover {
  transform: translateY(-4px) scale(1.02);
}

/* Enhanced Story Context Tile */
.storyContextTile {
  animation: fadeInUp 0.9s cubic-bezier(0.4, 0, 0.2, 1) 0.2s forwards;
  opacity: 0;
  transition: all 0.3s ease;
}

.storyContextTile:hover {
  transform: translateY(-2px);
}

/* Enhanced How To Tile */
.howToTile {
  animation: fadeInUp 0.9s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
  opacity: 0;
  transition: all 0.3s ease;
}

.howToTile:hover {
  transform: translateY(-2px);
}

/* Enhanced Mission Tile */
.missionTile {
  animation: fadeInUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.4s forwards;
  opacity: 0;
  position: relative;
  overflow: hidden;
}

/* Celebration Tile Animation */
.celebrationTile {
  animation: glowPulse 2s ease-in-out infinite, fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Elementary adjustments */
.grade-elementary .welcomeTile {
  grid-column: span 2;
  grid-row: span 2;
}

.grade-elementary .companionTile {
  grid-column: span 1;
  grid-row: span 2;
}

.grade-elementary .skillUseTile {
  grid-column: span 2;
  grid-row: span 1;
}

.grade-elementary .progressTile {
  grid-column: span 3;
  grid-row: span 1;
}

/* Tile title styles */
.tileTitle {
  font-size: var(--text-xl);
  font-weight: var(--font-semibold);
  margin: 0 0 var(--space-4) 0;
  color: var(--color-text-primary);
}

/* Welcome tile - Screen 1 - Ultra Enhanced with magical animations */
.welcomeTile {
  background: linear-gradient(135deg, 
    #667eea 0%, 
    #764ba2 20%, 
    #f093fb 40%, 
    #f5576c 60%, 
    #ffc3a0 80%, 
    #ffafbd 100%);
  color: white;
  border: 3px solid transparent;
  background-clip: padding-box;
  box-shadow: 
    0 20px 60px rgba(118, 75, 162, 0.3),
    0 10px 30px rgba(240, 147, 251, 0.2),
    inset 0 2px 20px rgba(255, 255, 255, 0.2),
    inset 0 -2px 20px rgba(0, 0, 0, 0.1);
  animation: 
    welcomePulse 3s ease-in-out infinite,
    fadeInScale 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  position: relative;
  overflow: hidden;
  transform-style: preserve-3d;
}

@keyframes welcomePulse {
  0%, 100% { 
    box-shadow: 
      0 20px 60px rgba(118, 75, 162, 0.3),
      0 10px 30px rgba(240, 147, 251, 0.2),
      inset 0 2px 20px rgba(255, 255, 255, 0.2),
      inset 0 -2px 20px rgba(0, 0, 0, 0.1);
  }
  50% { 
    box-shadow: 
      0 25px 70px rgba(118, 75, 162, 0.4),
      0 15px 40px rgba(240, 147, 251, 0.3),
      inset 0 3px 25px rgba(255, 255, 255, 0.3),
      inset 0 -3px 25px rgba(0, 0, 0, 0.15);
  }
}

.welcomeTile::before {
  content: '';
  position: absolute;
  top: -100%;
  right: -100%;
  width: 300%;
  height: 300%;
  background: linear-gradient(
    45deg,
    transparent 20%,
    rgba(255, 255, 255, 0.1) 25%,
    rgba(255, 255, 255, 0.3) 30%,
    rgba(255, 255, 255, 0.1) 35%,
    transparent 40%,
    transparent 100%
  );
  animation: magicShimmer 4s linear infinite;
}

@keyframes magicShimmer {
  0% { transform: translateX(-100%) translateY(-100%) rotate(30deg); }
  100% { transform: translateX(100%) translateY(100%) rotate(30deg); }
}

.welcomeTile::after {
  content: '✨';
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 36px;
  animation: sparkleFloat 3s ease-in-out infinite;
  filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.8));
}

@keyframes sparkleFloat {
  0%, 100% { 
    transform: translateY(0) rotate(0deg) scale(1);
    opacity: 0.8;
  }
  25% { 
    transform: translateY(-10px) rotate(90deg) scale(1.1);
    opacity: 1;
  }
  50% { 
    transform: translateY(5px) rotate(180deg) scale(0.9);
    opacity: 0.6;
  }
  75% { 
    transform: translateY(-5px) rotate(270deg) scale(1.05);
    opacity: 0.9;
  }
}

.welcomeTile:hover {
  transform: translateY(-6px) scale(1.03) rotateY(5deg) rotateX(-2deg);
  box-shadow: 
    0 30px 80px rgba(118, 75, 162, 0.4),
    0 20px 50px rgba(240, 147, 251, 0.3),
    inset 0 3px 30px rgba(255, 255, 255, 0.3),
    inset 0 -3px 30px rgba(0, 0, 0, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
}

.careerHeader {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-5);
  position: relative;
  z-index: 1;
}

.careerIcon {
  font-size: var(--text-5xl);
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
  animation: bounce 2s infinite;
}

.careerTitle {
  font-size: var(--text-3xl);
  font-weight: bold;
  margin: 0;
  line-height: 1.2;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

.welcomeContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.welcomeMessage {
  font-size: var(--text-lg);
  line-height: 1.6;
  opacity: 0.95;
}

/* Guide tile - Enhanced with green theme */
.guideTile {
  background: linear-gradient(135deg, 
    rgba(16, 185, 129, 0.1) 0%, 
    rgba(5, 150, 105, 0.15) 50%, 
    rgba(4, 120, 87, 0.1) 100%);
  border: 2px solid rgba(16, 185, 129, 0.3);
  position: relative;
  overflow: hidden;
  animation: fadeInSlide 0.8s var(--ease-out-back) 0.2s both;
}

.guideTile::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, 
    var(--color-success), 
    transparent, 
    var(--color-success));
  border-radius: inherit;
  opacity: 0;
  z-index: -1;
  animation: borderGlow 3s ease-in-out infinite;
}

@keyframes borderGlow {
  0%, 100% { opacity: 0; }
  50% { opacity: 0.5; }
}

.guideContent {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--space-4);
  position: relative;
  z-index: 1;
}

.guideAvatar {
  width: var(--space-20);
  height: var(--space-20);
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 3px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  animation: avatarBounce 2s ease-in-out infinite;
}

@keyframes avatarBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

.guideIcon {
  font-size: var(--text-5xl);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
  animation: iconPulse 2s ease-in-out infinite;
}

@keyframes iconPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.guideMessage {
  font-size: var(--text-base);
  line-height: 1.5;
  color: var(--text-primary);
  padding: var(--space-3);
  background: rgba(255, 255, 255, 0.5);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--color-success);
  backdrop-filter: blur(10px);
}

[data-theme="dark"] .guideMessage {
  background: rgba(0, 0, 0, 0.3);
  border-left-color: #10B981;
}

/* Skill use tile - Enhanced with green theme */
.skillUseTile {
  background: linear-gradient(135deg, 
    rgba(5, 150, 105, 0.08) 0%, 
    rgba(16, 185, 129, 0.12) 50%, 
    rgba(4, 120, 87, 0.08) 100%);
  border: 2px solid rgba(5, 150, 105, 0.25);
  position: relative;
  animation: fadeInSlide 0.8s var(--ease-out-back) 0.3s both;
  overflow: hidden;
}

.skillUseTile::after {
  content: '';
  position: absolute;
  top: -50%;
  right: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, 
    rgba(16, 185, 129, 0.1) 0%, 
    transparent 70%);
  animation: radialPulse 4s ease-in-out infinite;
}

@keyframes radialPulse {
  0%, 100% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1); opacity: 1; }
}

.skillUseContent {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  position: relative;
  z-index: 1;
}

.skillDescription {
  font-size: var(--text-base);
  line-height: 1.6;
  color: var(--text-primary);
  padding: var(--space-3);
  background: linear-gradient(to right, 
    rgba(255, 255, 255, 0.8), 
    rgba(255, 255, 255, 0.6));
  border-radius: var(--radius-md);
  backdrop-filter: blur(5px);
}

[data-theme="dark"] .skillDescription {
  background: linear-gradient(to right, 
    rgba(0, 0, 0, 0.4), 
    rgba(0, 0, 0, 0.2));
}

.skillExamples {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.exampleBadge {
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  color: white;
  padding: var(--space-1-5) var(--space-3);
  border-radius: var(--radius-full);
  font-size: 13px;
  font-weight: 500;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
  transition: all 0.3s var(--ease-out);
  animation: badgeFadeIn 0.5s var(--ease-out-back) calc(var(--index, 0) * 0.1s) both;
}

.exampleBadge:nth-child(1) { --index: 0; }
.exampleBadge:nth-child(2) { --index: 1; }
.exampleBadge:nth-child(3) { --index: 2; }

.exampleBadge:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

@keyframes badgeFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Professional chat tile - Enhanced with green theme */
.chatTile {
  background: linear-gradient(135deg, 
    rgba(4, 120, 87, 0.05) 0%, 
    rgba(16, 185, 129, 0.08) 100%);
  border: 2px solid rgba(16, 185, 129, 0.2);
  position: relative;
  animation: fadeInSlide 0.8s var(--ease-out-back) 0.4s both;
  overflow: hidden;
}

.chatTile::before {
  content: '💬';
  position: absolute;
  top: -20px;
  right: -20px;
  font-size: 100px;
  opacity: 0.05;
  transform: rotate(-15deg);
  pointer-events: none;
}

.chatHeader {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding-bottom: var(--space-3);
  background: linear-gradient(90deg, 
    rgba(16, 185, 129, 0.15) 0%, 
    rgba(5, 150, 105, 0.1) 100%);
  border-bottom: 2px solid rgba(16, 185, 129, 0.2);
  margin-bottom: var(--space-3);
  border-radius: var(--radius-md) var(--radius-md) 0 0;
  padding: var(--space-3);
  position: relative;
  z-index: 1;
}

.chatIcon {
  font-size: var(--text-xl);
  animation: chatBounce 2s ease-in-out infinite;
}

@keyframes chatBounce {
  0%, 100% { transform: rotate(0deg) scale(1); }
  25% { transform: rotate(-5deg) scale(1.1); }
  75% { transform: rotate(5deg) scale(1.1); }
}

.chatTitle {
  flex: 1;
  font-weight: 600;
  font-size: var(--text-sm);
  color: var(--text-primary);
}

.chatToggle {
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  width: var(--space-6);
  height: var(--space-6);
  cursor: pointer;
  font-size: var(--text-base);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
  transition: all var(--duration-base) var(--easing-out);
}

.chatToggle:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.chatToggle:active {
  transform: scale(0.95);
}

.chatContent {
  display: flex;
  flex-direction: column;
  height: calc(100% - 48px);
}

.chatMessages {
  flex: 1;
  overflow-y: auto;
  margin-bottom: var(--space-3);
  padding-right: var(--space-2);
}

.chatMessage {
  margin-bottom: var(--space-2);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-xl);
  max-width: 80%;
  word-wrap: break-word;
}

.chatMessage.user {
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  color: white;
  margin-left: auto;
  border-bottom-right-radius: 4px;
  box-shadow: 0 2px 6px rgba(16, 185, 129, 0.2);
}

.chatMessage.professional {
  background: #f0f0f0;
  color: #333;
  margin-right: auto;
  border-bottom-left-radius: 4px;
}

.typingIndicator {
  animation: typing 1s infinite;
}

.chatInput {
  display: flex;
  gap: var(--space-2);
  border-top: var(--border-width-thin) solid #e0e0e0;
  padding-top: var(--space-3);
}

.chatInputField {
  flex: 1;
  padding: var(--space-2) var(--space-3);
  border: var(--border-width-thin) solid #e0e0e0;
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  outline: none;
}

.chatInputField:focus {
  border-color: #10B981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

.chatSendButton {
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  color: white;
  border: none;
  border-radius: var(--radius-full);
  padding: var(--space-2) var(--space-4);
  cursor: pointer;
  font-size: var(--text-sm);
  font-weight: 500;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
  transition: all 0.2s ease;
}

.chatSendButton:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.chatSendButton:active {
  transform: translateY(0);
}

.chatClosed {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: calc(100% - 48px);
  text-align: center;
  color: #666;
  font-size: var(--text-sm);
}

/* Continue button tile - Enhanced with green theme */
.actionTile {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, 
    rgba(16, 185, 129, 0.05) 0%, 
    rgba(5, 150, 105, 0.08) 100%);
  border: 2px solid rgba(16, 185, 129, 0.15);
  position: relative;
  animation: fadeInSlide 0.8s var(--ease-out-back) 0.5s both;
  overflow: hidden;
}

.actionTile::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, 
    transparent 30%, 
    rgba(16, 185, 129, 0.1) 50%, 
    transparent 70%);
  transform: translateX(-100%);
  animation: slideShine 3s ease-in-out infinite;
}

@keyframes slideShine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.continueButton {
  width: 80%;
  padding: var(--space-4) var(--space-6);
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  color: white;
  border: none;
  border-radius: var(--radius-xl);
  font-size: var(--text-base);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  position: relative;
  z-index: 1;
  overflow: hidden;
}

.continueButton::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, 
    rgba(255, 255, 255, 0.3) 0%, 
    transparent 70%);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
  border-radius: var(--radius-full);
}

.continueButton:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
}

.continueButton:hover::before {
  width: 300px;
  height: 300px;
}

.continueButton:active {
  transform: translateY(0);
}

/* Screen 2 - Challenge styles */
.situationTile {
  background: #fef3c7;
  border: var(--border-width-base) solid #fbbf24;
  color: #78350f;
}

.situationText {
  font-size: var(--text-base);
  line-height: 1.6;
  margin: 0;
}

.challengeTile {
  background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
  color: white;
}

.challengeHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-5);
}

.challengeNumber {
  font-size: var(--text-sm);
  font-weight: 600;
  opacity: 0.9;
}

.challengeType {
  background: rgba(255, 255, 255, 0.2);
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
}

.xpReward {
  background: gold;
  color: #333;
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: bold;
}

.challengeContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.challengeQuestion {
  font-size: var(--text-xl);
  line-height: 1.5;
  margin: 0;
}

/* Answer tiles for challenges */
.answerTile {
  cursor: pointer;
  transition: all 0.2s ease;
  background: white;
  border: var(--border-width-base) solid #e0e0e0;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-4);
}

.answerTile:hover:not(.selected):not(.correct):not(.incorrect) {
  border-color: #8b5cf6;
  background: #faf5ff;
}

.answerTile.selected {
  border-color: #8b5cf6;
  background: #f3e8ff;
}

.answerTile.correct {
  border-color: #10b981;
  background: #d1fae5;
  animation: correctPulse 0.5s ease;
}

.answerTile.incorrect {
  border-color: #ef4444;
  background: #fee2e2;
  animation: incorrectShake 0.3s ease;
}

.answerLabel {
  font-weight: bold;
  font-size: var(--text-base);
  color: #8b5cf6;
  margin-right: var(--space-2);
}

.answerText {
  font-size: var(--text-sm);
  line-height: 1.4;
}

/* Solution tile */
.solutionTile {
  background: #d1fae5;
  border: var(--border-width-base) solid #10b981;
  color: #064e3b;
}

.solutionText {
  font-size: var(--text-base);
  line-height: 1.6;
  margin: 0;
}

/* Skill helps tile */
.skillHelpsTile {
  background: #e0e7ff;
  border: var(--border-width-base) solid #6366f1;
  color: #312e81;
}

.skillHelpsText {
  font-size: var(--text-base);
  line-height: 1.6;
  margin: 0;
}

/* Response modal */
.responseModal {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease;
}

.responseContent {
  background: white;
  border-radius: var(--radius-full);
  padding: var(--space-8);
  text-align: center;
  max-width: 450px;
  animation: slideUp 0.3s ease;
}

.responseContent.correct {
  border: var(--border-width-thick) solid #10b981;
}

.responseContent.incorrect {
  border: var(--border-width-thick) solid #fbbf24;
}

.responseIcon {
  font-size: var(--text-5xl);
  display: block;
  margin-bottom: var(--space-4);
}

.responseTitle {
  font-size: var(--text-2xl);
  font-weight: bold;
  margin: 0 0 12px 0;
  color: #333;
}

.responseMessage {
  font-size: var(--text-base);
  color: #666;
  margin: 0 0 16px 0;
}

.xpMessage {
  font-size: var(--text-lg);
  font-weight: bold;
  color: #fbbf24;
  margin: 0 0 12px 0;
}

.autoAdvance {
  font-size: var(--text-sm);
  color: #999;
  font-style: italic;
}

/* XP Animation */
.xpAnimation {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: var(--text-3xl);
  font-weight: bold;
  color: gold;
  text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
  animation: xpFloat 2s ease forwards;
  z-index: 1001;
  pointer-events: none;
}

/* Theme variations */
.lightTheme {
  background: var(--bg-gradient-experience);
}

.darkTheme {
  background: linear-gradient(135deg, #0f2027 0%, #203a43 100%);
}

.darkTheme .bentoTile {
  background: rgba(31, 41, 55, 0.95);
  border-color: rgba(20, 184, 166, 0.2);
  color: var(--text-primary);
  box-shadow: var(--shadow-xl);
}

.darkTheme .tileTitle {
  color: var(--text-primary);
}

.darkTheme .answerTile {
  background: rgba(45, 55, 72, 0.95);
  border-color: rgba(20, 184, 166, 0.3);
  color: var(--text-primary);
}

.darkTheme .answerTile:hover:not(.selected):not(.correct):not(.incorrect) {
  background: rgba(55, 65, 81, 0.95);
  border-color: rgba(20, 184, 166, 0.5);
}

.darkTheme .chatTile {
  background: rgba(45, 55, 72, 0.95);
  border-color: rgba(20, 184, 166, 0.3);
  color: var(--text-primary);
}

.darkTheme .chatMessage.professional {
  background: rgba(55, 65, 81, 0.95);
  color: var(--text-primary);
}

.darkTheme .chatInputField {
  background: rgba(31, 41, 55, 0.95);
  border-color: rgba(20, 184, 166, 0.3);
  color: var(--text-primary);
}

.darkTheme .situationTile {
  background: rgba(45, 55, 72, 0.95);
  border-color: rgba(245, 158, 11, 0.3);
  color: #fbbf24;
}

.darkTheme .solutionTile {
  background: rgba(45, 55, 72, 0.95);
  border-color: rgba(16, 185, 129, 0.3);
  color: #86efac;
}

.darkTheme .skillHelpsTile {
  background: rgba(45, 55, 72, 0.95);
  border-color: rgba(99, 102, 241, 0.3);
  color: #a5b4fc;
}

.darkTheme .skillUseTile {
  background: rgba(45, 55, 72, 0.95);
  border-color: rgba(2, 132, 199, 0.3);
  color: #7dd3fc;
}

.darkTheme .skillUseTile .tileTitle,
.darkTheme .skillUseTile .skillDescription {
  color: white !important;
}

.darkTheme .responseContent {
  background: rgba(31, 41, 55, 0.95);
  color: var(--text-primary);
}

.darkTheme .responseTitle {
  color: var(--text-primary);
}

.darkTheme .responseMessage {
  color: var(--text-secondary);
}

/* Special dark theme overrides for hero tiles */
.darkTheme .welcomeTile {
  background: linear-gradient(135deg, #14b8a6 0%, #0891b2 100%);
  border: var(--border-width-base) solid rgba(20, 184, 166, 0.4);
  box-shadow: var(--shadow-teal);
}

.darkTheme .guideTile {
  background: rgba(45, 55, 72, 0.95);
  border: var(--border-width-base) solid rgba(139, 92, 246, 0.3);
  color: white !important;
}

.darkTheme .guideTile .tileTitle,
.darkTheme .guideTile .guideMessage {
  color: white !important;
}

.darkTheme .challengeTile {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.9) 0%, rgba(220, 38, 38, 0.9) 100%);
  border: var(--border-width-base) solid rgba(239, 68, 68, 0.4);
  color: white;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInSlide {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes correctPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes incorrectShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

@keyframes typing {
  0%, 60%, 100% { opacity: 0.3; }
  30% { opacity: 1; }
}

@keyframes bounceIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes xpFloat {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -70%) scale(1.2);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -100%) scale(1);
    opacity: 0;
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Responsive adjustments */
@media (max-width: 1024px) {
  .bentoContainer {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
  }
  
  .heroTile {
    grid-column: span 3;
  }
  
  .largeTile {
    grid-column: span 2;
  }
}

@media (max-width: 768px) {
  .bentoContainer {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: auto;
    gap: 12px;
    padding: var(--space-4);
    min-height: auto;
  }

  .progressHeader {
    grid-column: span 2;
    padding: var(--space-3) var(--space-4);
  }

  .heroTile {
    grid-column: span 2;
    grid-row: span 1;
    min-height: 200px;
  }

  .wideTile {
    grid-column: span 2;
  }

  .largeTile {
    grid-column: span 2;
    grid-row: span 1;
    min-height: 180px;
  }

  .mediumTile {
    grid-column: span 2;
  }

  .smallTile {
    grid-column: span 1;
  }

  /* Adjust text sizes */
  .careerTitle {
    font-size: var(--text-2xl);
  }

  .careerIcon {
    font-size: var(--text-4xl);
  }

  .tileTitle {
    font-size: var(--text-lg);
  }

  .challengeQuestion {
    font-size: var(--text-lg);
  }

  .guideAvatar {
    width: 60px;
    height: 60px;
  }

  .guideIcon {
    font-size: var(--text-3xl);
  }

  /* Chat adjustments */
  .chatContent {
    height: 200px;
  }

  .chatMessages {
    max-height: 150px;
  }

  /* Reduce animations on mobile */
  .bentoTile {
    animation-duration: 0.3s;
  }

  @keyframes shimmer {
    0%, 100% { transform: translateX(-100%); }
  }
}

@media (max-width: 480px) {
  .bentoContainer {
    grid-template-columns: 1fr;
    gap: 10px;
    padding: var(--space-3);
  }

  .progressHeader {
    grid-column: span 1;
    padding: var(--space-2) var(--space-3);
  }

  .progressInfo {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .progressBar {
    width: 100%;
  }

  .heroTile,
  .wideTile,
  .largeTile,
  .mediumTile,
  .tallTile,
  .smallTile {
    grid-column: span 1;
    grid-row: span 1;
    min-height: auto;
  }

  /* Smaller padding on mobile */
  .bentoTile {
    padding: var(--space-3);
  }

  /* Adjust text sizes for mobile */
  .careerTitle {
    font-size: var(--text-xl);
    line-height: 1.3;
  }

  .careerIcon {
    font-size: var(--text-3xl);
  }

  .tileTitle {
    font-size: var(--text-base);
    margin-bottom: var(--space-3);
  }

  .welcomeMessage,
  .guideMessage,
  .skillDescription {
    font-size: var(--text-sm);
    line-height: 1.5;
  }

  .challengeQuestion {
    font-size: var(--text-base);
  }

  .exampleBadge {
    font-size: 12px;
    padding: var(--space-1) var(--space-2);
  }

  /* Guide content adjustments */
  .guideAvatar {
    width: 50px;
    height: 50px;
  }

  .guideIcon {
    font-size: var(--text-2xl);
  }

  .guideContent {
    gap: var(--space-3);
  }

  /* Chat adjustments for mobile */
  .chatTile {
    min-height: 150px;
  }

  .chatContent {
    height: 150px;
  }

  .chatMessages {
    max-height: 100px;
  }

  .chatMessage {
    font-size: var(--text-sm);
    padding: var(--space-1-5) var(--space-2);
  }

  /* Answer tiles adjustments */
  .answerTile {
    padding: var(--space-3);
  }

  .answerLabel {
    font-size: var(--text-sm);
  }

  .answerText {
    font-size: var(--text-xs);
  }

  /* Response modal adjustments */
  .responseModal {
    padding: var(--space-3);
  }

  .responseContent {
    padding: var(--space-5);
    max-width: 90%;
  }

  .responseIcon {
    font-size: var(--text-3xl);
  }

  .responseTitle {
    font-size: var(--text-lg);
  }

  .responseMessage {
    font-size: var(--text-sm);
  }

  /* Button adjustments */
  .continueButton {
    width: 100%;
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-sm);
  }

  /* Disable heavy animations on mobile */
  .bentoTile::before,
  .bentoTile::after {
    animation: none;
  }

  .welcomeTile::before {
    display: none;
  }

  @keyframes shimmer {
    0%, 100% { opacity: 1; }
  }

  @keyframes radialPulse {
    0%, 100% { opacity: 0; }
  }
}

/* iPhone SE specific adjustments (375x667) */
@media only screen 
  and (device-width: 375px) 
  and (device-height: 667px) 
  and (-webkit-device-pixel-ratio: 2) {
  
  .bentoContainer {
    padding: var(--space-2);
    gap: 8px;
    overflow-y: auto;
    max-height: calc(100vh - 120px);
  }

  .bentoTile {
    padding: var(--space-2-5);
    min-height: auto;
  }

  .careerTitle {
    font-size: var(--text-lg);
  }

  .tileTitle {
    font-size: var(--text-sm);
    margin-bottom: var(--space-2);
  }

  .welcomeMessage,
  .guideMessage,
  .skillDescription,
  .situationText,
  .solutionText,
  .skillHelpsText {
    font-size: 12px;
    line-height: 1.4;
  }

  .progressHeader {
    position: sticky;
    top: 0;
    z-index: 10;
    background: var(--bg-primary);
  }

  /* Ensure chat is usable on small screen */
  .chatMessages {
    max-height: 80px;
  }

  .chatInputField {
    font-size: 12px;
    padding: var(--space-1-5);
  }

  .chatSendButton {
    font-size: 12px;
    padding: var(--space-1-5) var(--space-2);
  }
}

/* Very small devices (max-width: 375px) */
@media (max-width: 375px) {
  .bentoContainer {
    padding: var(--space-2);
    gap: 6px;
  }

  .bentoTile {
    border-radius: var(--radius-lg);
    padding: var(--space-2);
  }

  .careerHeader {
    gap: var(--space-2);
    margin-bottom: var(--space-3);
  }

  .careerTitle {
    font-size: 16px;
  }

  .careerIcon {
    font-size: 24px;
  }

  /* Ensure content is readable */
  .welcomeMessage,
  .guideMessage {
    font-size: 11px;
  }

  /* Make buttons tappable */
  .continueButton,
  .chatToggle,
  .answerTile {
    min-height: 44px; /* iOS tap target size */
  }
}

/* Additional tile layout styles for proper grid arrangement */
.optionsTile {
  grid-column: span 2;
  grid-row: span 2;
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.helperTile {
  grid-column: span 1;
  grid-row: span 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.feedbackTile {
  grid-column: span 2;
  grid-row: span 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.completionProgressTile {
  grid-column: span 4;
  grid-row: span 1;
}

/* ===== ENHANCED BENTO GRID TILE VISUALS ===== */
/* Using Design System Tokens */

.bentoContainer .bentoTile {
  background: var(--color-bg-elevated);
  border: 2px solid var(--color-border);
  box-shadow: var(--shadow-md);
  backdrop-filter: blur(10px);
  color: var(--color-text-primary);
  transition: all 0.3s ease;
}

/* Individual tile type styling using design tokens */
.bentoContainer .welcomeTile {
  background: var(--color-container-experience);
  border: 2px solid var(--teal-500);
  box-shadow: var(--shadow-lg);
  color: white;
}

.bentoContainer .companionTile {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border: 2px solid var(--amber-500);
  box-shadow: var(--shadow-md);
}

.bentoContainer .skillUseTile {
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
  border: 2px solid var(--blue-500);
  box-shadow: var(--shadow-md);
}

.bentoContainer .previewTile {
  background: linear-gradient(135deg, var(--magenta-50) 0%, var(--magenta-100) 100%);
  border: 2px solid var(--magenta-500);
  box-shadow: var(--shadow-md);
}

.bentoContainer .actionTile {
  background: linear-gradient(135deg, var(--purple-100) 0%, var(--purple-200) 100%);
  border: 2px solid var(--purple-500);
  box-shadow: var(--shadow-md);
  display: flex;
  align-items: center;
  justify-content: center;
}

.bentoContainer .progressTile {
  background: linear-gradient(90deg, #fef3c7 0%, var(--teal-100) 33%, #dbeafe 66%, var(--magenta-100) 100%);
  border: 2px solid transparent;
  border-image: linear-gradient(90deg, var(--amber-500), var(--teal-500), var(--blue-500), var(--magenta-500)) 1;
}

.bentoContainer .scenarioMainTile {
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
  border: 3px solid #0ea5e9;
  box-shadow: 0 10px 25px -5px rgba(14, 165, 233, 0.3);
}

.bentoContainer .optionsTile {
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
  border: 3px solid #22c55e;
  box-shadow: 0 10px 25px -5px rgba(34, 197, 94, 0.3);
}

.bentoContainer .feedbackTile {
  background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%);
  border: 3px solid #eab308;
  box-shadow: 0 10px 25px -5px rgba(234, 179, 8, 0.3);
}

/* Dark theme - using design system tokens */
[data-theme="dark"] .bentoContainer .bentoTile {
  background: var(--color-bg-elevated);
  border: 2px solid var(--color-border);
  box-shadow: var(--shadow-lg);
  color: var(--color-text-primary);
}

/* Ensure proper text contrast in dark mode */
[data-theme="dark"] .tileTitle,
[data-theme="dark"] .careerTitle,
[data-theme="dark"] .skillDescription,
[data-theme="dark"] .welcomeMessage,
[data-theme="dark"] .scenarioCount,
[data-theme="dark"] h1, 
[data-theme="dark"] h2, 
[data-theme="dark"] h3,
[data-theme="dark"] p {
  color: var(--color-text-primary);
}

/* Dark theme tile variants */
[data-theme="dark"] .bentoContainer .welcomeTile {
  background: var(--color-container-experience);
  border: 2px solid var(--teal-400);
  color: white;
}

[data-theme="dark"] .bentoContainer .companionTile {
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.15) 100%);
  border: 2px solid var(--amber-600);
}

[data-theme="dark"] .bentoContainer .skillUseTile {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(37, 99, 235, 0.15) 100%);
  border: 2px solid var(--blue-600);
}

[data-theme="dark"] .bentoContainer .previewTile {
  background: linear-gradient(135deg, rgba(217, 70, 239, 0.15) 0%, rgba(168, 85, 247, 0.15) 100%);
  border: 2px solid var(--magenta-600);
}

[data-theme="dark"] .bentoContainer .actionTile {
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(147, 51, 234, 0.15) 100%);
  border: 2px solid var(--purple-600);
}

[data-theme="dark"] .bentoContainer .progressTile {
  background: linear-gradient(90deg, 
    rgba(251, 191, 36, 0.1) 0%, 
    rgba(20, 184, 166, 0.1) 33%, 
    rgba(59, 130, 246, 0.1) 66%, 
    rgba(217, 70, 239, 0.1) 100%);
  border: 2px solid transparent;
  border-image: linear-gradient(90deg, 
    var(--amber-600), 
    var(--teal-600), 
    var(--blue-600), 
    var(--magenta-600)) 1;
}

/* Hover effects for better interactivity */
.bentoContainer .bentoTile:hover {
  transform: translateY(-2px) scale(1.02);
  transition: all 0.3s ease;
}

/* Ensure minimum tile size for visibility */
.bentoContainer > .bentoTile {
  min-height: 140px;
}

/* Override for companion welcome tile to fit content */
.bentoContainer > .companionWelcomeTile {
  min-height: auto !important;
  height: fit-content !important;
}

/* ===== Enhanced Styles for BentoExperienceCardV2 ===== */

/* Button Enhancements */
.startButton, .continueButton {
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 1;
}

.startButton::before, .continueButton::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
  z-index: -1;
}

.startButton:hover::before, .continueButton:hover::before {
  width: 400px;
  height: 400px;
}

/* Enhanced Dark Theme Support */
.darkTheme .companionWelcomeTile {
  animation: glowPulse 3s ease-in-out infinite;
}

.darkTheme .storyContextTile,
.darkTheme .howToTile,
.darkTheme .missionTile {
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Tile Entry Animations */
.companionWelcomeTile,
.storyContextTile,
.howToTile,
.missionTile,
.celebrationTile {
  animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  opacity: 0;
}

.companionWelcomeTile { animation-delay: 0s; }
.storyContextTile { animation-delay: 0.1s; }
.howToTile { animation-delay: 0.2s; }
.missionTile { animation-delay: 0.3s; }

/* Progress Bar Shimmer Effect */
.progressTile {
  position: relative;
  overflow: hidden;
}

.progressTile::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 3px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  animation: slidePattern 3s infinite;
}

/* Scenario Visual Enhancements */
.scenarioMainTile {
  transition: all 0.3s ease;
}

.scenarioMainTile:hover {
  transform: translateY(-2px);
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
}

/* Feedback Tile Animations */
.feedbackTile {
  animation: fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Action Sections */
.actionSection, .actionBar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 16px;
  padding: 16px;
}

/* Section Titles */
.sectionTitle {
  font-weight: 700;
  letter-spacing: -0.5px;
  line-height: 1.2;
}

.storyTitle {
  font-weight: 800;
  letter-spacing: -0.5px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.1);
  line-height: 1.1;
}

/* Companion Avatar Float Animation */
.companionWelcomeTile img {
  animation: floatSmooth 3s ease-in-out infinite;
}

/* Celebration Effects */
.celebrationTile {
  animation: glowPulse 2s ease-in-out infinite;
  position: relative;
  overflow: hidden;
}

.celebrationTitle {
  animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Mission Tile Pattern Animation */
.missionTile::before {
  content: '';
  position: absolute;
  top: 0;
  left: -200%;
  right: -200%;
  bottom: 0;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 10px,
    rgba(255,255,255,0.03) 10px,
    rgba(255,255,255,0.03) 20px
  );
  animation: slidePattern 20s linear infinite;
  pointer-events: none;
}